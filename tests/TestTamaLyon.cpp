#include "TestTamaLyon.h"
#include <QCoreApplication>
#include <QThread>
#include <QEventLoop>
#include <QTimer>

void TestTamaLyon::initTestCase()
{
    qDebug() << "ðŸ§ª === DÃ‰BUT DES TESTS TAMALYON ===";
    qDebug() << "ðŸ”§ Initialisation de l'environnement de test...";
    
    // Initialiser les objets de base
    testLion = nullptr;
    testAlimentManager = nullptr;
    testLionManager = nullptr;
}

void TestTamaLyon::cleanupTestCase()
{
    qDebug() << "ðŸ§ª === FIN DES TESTS TAMALYON ===";
}

void TestTamaLyon::init()
{
    // CrÃ©er des objets frais pour chaque test
    testLion = new Lion("TestLion", this);
    testAlimentManager = new AlimentManager(this);
    testLionManager = new LionManager(this);
    
    // Connecter les objets
    testAlimentManager->setLion(testLion);
    testAlimentManager->setLionManager(testLionManager);
    testLionManager->setAlimentManager(testAlimentManager);
}

void TestTamaLyon::cleanup()
{
    // Nettoyer les objets
    if (testLion) {
        testLion->deleteLater();
        testLion = nullptr;
    }
    if (testAlimentManager) {
        testAlimentManager->deleteLater();
        testAlimentManager = nullptr;
    }
    if (testLionManager) {
        testLionManager->deleteLater();
        testLionManager = nullptr;
    }
}

// ==================== TESTS DE LOGIQUE MÃ‰TIER ====================

void TestTamaLyon::testLionCreation()
{
    qDebug() << "\nðŸ§ª Test: CrÃ©ation du Lion";
    
    QCOMPARE(testLion->getNom(), QString("TestLion"));
    QCOMPARE(testLion->getType(), QString("Lion Africain"));
    QCOMPARE(testLion->getFaim(), 50);
    QCOMPARE(testLion->getSoif(), 50);
    QCOMPARE(testLion->getHumeur(), 50);
    QCOMPARE(testLion->getEmpoisonnement(), 0);
    QCOMPARE(testLion->getEstMort(), false);
    
    qDebug() << "âœ… Lion crÃ©Ã© correctement avec les valeurs par dÃ©faut";
}

void TestTamaLyon::testLionAlimentBasique()
{
    qDebug() << "\nðŸ§ª Test: Alimentation basique du Lion";
    
    // CrÃ©er une pomme (impact positif)
    Pomme* pomme = new Pomme(this);
    
    int faimAvant = testLion->getFaim();
    int humeurAvant = testLion->getHumeur();
    
    qDebug() << "ðŸ“Š Ã‰tat AVANT - Faim:" << faimAvant << "Humeur:" << humeurAvant;
    
    // Donner la pomme au lion
    testLion->donnerAliment(pomme);
    
    int faimApres = testLion->getFaim();
    int humeurApres = testLion->getHumeur();
    
    qDebug() << "ðŸ“Š Ã‰tat APRÃˆS - Faim:" << faimApres << "Humeur:" << humeurApres;
    qDebug() << "ðŸ“ˆ Changement - Faim: +" << (faimApres - faimAvant) << "Humeur: +" << (humeurApres - humeurAvant);
    
    // VÃ©rifier que les valeurs ont augmentÃ©
    QVERIFY(faimApres > faimAvant);
    QVERIFY(humeurApres >= humeurAvant); // Humeur peut rester la mÃªme selon l'aliment
    
    qDebug() << "âœ… Alimentation basique fonctionne correctement";
}

void TestTamaLyon::testLionAlimentToxique()
{
    qDebug() << "\nðŸ§ª Test: Aliment toxique";
    
    // CrÃ©er un champignon toxique
    ChampignonToxique* champignon = new ChampignonToxique(this);
    
    int empoisonnementAvant = testLion->getEmpoisonnement();
    
    qDebug() << "ðŸ“Š Empoisonnement AVANT:" << empoisonnementAvant;
    
    // Donner le champignon au lion
    testLion->donnerAliment(champignon);
    
    int empoisonnementApres = testLion->getEmpoisonnement();
    
    qDebug() << "ðŸ“Š Empoisonnement APRÃˆS:" << empoisonnementApres;
    qDebug() << "ðŸ“ˆ Changement: +" << (empoisonnementApres - empoisonnementAvant);
    
    // VÃ©rifier que l'empoisonnement a augmentÃ©
    QVERIFY(empoisonnementApres > empoisonnementAvant);
    
    qDebug() << "âœ… Aliment toxique fonctionne correctement";
}

void TestTamaLyon::testLionDecay()
{
    qDebug() << "\nðŸ§ª Test: DÃ©clin naturel du Lion";
    
    // Mettre le lion Ã  des valeurs Ã©levÃ©es
    testLion->setFaim(80);
    testLion->setSoif(80);
    testLion->setHumeur(80);
    
    int faimAvant = testLion->getFaim();
    int soifAvant = testLion->getSoif();
    int humeurAvant = testLion->getHumeur();
    
    qDebug() << "ðŸ“Š Ã‰tat AVANT decay - Faim:" << faimAvant << "Soif:" << soifAvant << "Humeur:" << humeurAvant;
    
    // Forcer le decay (normalement appelÃ© par le timer)
    testLionManager->decayStates();
    
    int faimApres = testLion->getFaim();
    int soifApres = testLion->getSoif();
    int humeurApres = testLion->getHumeur();
    
    qDebug() << "ðŸ“Š Ã‰tat APRÃˆS decay - Faim:" << faimApres << "Soif:" << soifApres << "Humeur:" << humeurApres;
    
    // VÃ©rifier que les valeurs ont diminuÃ©
    QVERIFY(faimApres < faimAvant);
    QVERIFY(soifApres < soifAvant);
    QVERIFY(humeurApres < humeurAvant);
    
    qDebug() << "âœ… DÃ©clin naturel fonctionne correctement";
}

void TestTamaLyon::testLionMort()
{
    qDebug() << "\nðŸ§ª Test: Mort du Lion";
    
    // Mettre le lion en situation critique
    testLion->setFaim(0);
    testLion->setSoif(0);
    testLion->setEmpoisonnement(100);
    
    // Forcer la mise Ã  jour de l'Ã©tat
    testLionManager->updateMood();
    
    qDebug() << "ðŸ“Š Ã‰tat final - EstMort:" << testLion->getEstMort() << "Ã‰tat:" << testLion->getEtatString();
    
    // Le lion devrait Ãªtre mort
    QVERIFY(testLion->getEstMort());
    
    qDebug() << "âœ… MÃ©canisme de mort fonctionne correctement";
}

void TestTamaLyon::testLionReset()
{
    qDebug() << "\nðŸ§ª Test: Reset du Lion";
    
    // Mettre le lion dans un Ã©tat non-standard
    testLion->setFaim(0);
    testLion->setSoif(100);
    testLion->setHumeur(25);
    testLion->setEmpoisonnement(50);
    
    // Reset le lion
    testLion->resetAnimal();
    
    // VÃ©rifier que toutes les valeurs sont revenues Ã  la normale
    QCOMPARE(testLion->getFaim(), 50);
    QCOMPARE(testLion->getSoif(), 50);
    QCOMPARE(testLion->getHumeur(), 50);
    QCOMPARE(testLion->getEmpoisonnement(), 0);
    QCOMPARE(testLion->getEstMort(), false);
    
    qDebug() << "âœ… Reset du lion fonctionne correctement";
}

// ==================== TESTS DES ALIMENTS ====================

void TestTamaLyon::testAlimentManager()
{
    qDebug() << "\nðŸ§ª Test: AlimentManager";
    
    // VÃ©rifier que tous les aliments sont crÃ©Ã©s
    int count = testAlimentManager->getAlimentCount();
    qDebug() << "ðŸ“Š Nombre d'aliments disponibles:" << count;
    
    QVERIFY(count > 0);
    QCOMPARE(count, 7); // Nous avons 7 aliments dÃ©finis
    
    // Tester l'accÃ¨s aux aliments
    for (int i = 0; i < count; i++) {
        Aliment* aliment = testAlimentManager->getAlimentByIndex(i);
        QVERIFY(aliment != nullptr);
        QVERIFY(!aliment->getNom().isEmpty());
        qDebug() << "ðŸ“‹" << i << ":" << aliment->getEmoji() << aliment->getNom();
    }
    
    qDebug() << "âœ… AlimentManager fonctionne correctement";
}

void TestTamaLyon::testAlimentEffects()
{
    qDebug() << "\nðŸ§ª Test: Effets des aliments";
    
    // Tester chaque aliment
    for (int i = 0; i < testAlimentManager->getAlimentCount(); i++) {
        Aliment* aliment = testAlimentManager->getAlimentByIndex(i);
        
        // Sauvegarder l'Ã©tat initial
        int faimInitiale = testLion->getFaim();
        int soifInitiale = testLion->getSoif();
        int humeurInitiale = testLion->getHumeur();
        int empoisonnementInitial = testLion->getEmpoisonnement();
        
        // Reset le lion pour avoir un Ã©tat propre
        testLion->resetAnimal();
        
        qDebug() << "ðŸ”¬ Test aliment:" << aliment->getNom();
        qDebug() << "   Impact attendu - Faim:" << aliment->getFaimImpact() 
                 << "Soif:" << aliment->getSoifImpact() 
                 << "Humeur:" << aliment->getHumeurImpact()
                 << "Toxique:" << aliment->getEstToxique();
        
        // Appliquer l'aliment
        testLion->donnerAliment(aliment);
        
        qDebug() << "   Ã‰tat rÃ©sultant - Faim:" << testLion->getFaim()
                 << "Soif:" << testLion->getSoif()
                 << "Humeur:" << testLion->getHumeur()
                 << "Empoisonnement:" << testLion->getEmpoisonnement();
        
        // VÃ©rifier que l'aliment a eu un effet
        bool aEuEffet = (testLion->getFaim() != 50) || 
                       (testLion->getSoif() != 50) || 
                       (testLion->getHumeur() != 50) || 
                       (testLion->getEmpoisonnement() != 0);
        
        QVERIFY(aEuEffet);
    }
    
    qDebug() << "âœ… Tous les aliments ont des effets corrects";
}

// ==================== TESTS RÃ‰SEAU ====================

void TestTamaLyon::testServerStart()
{
    qDebug() << "\nðŸ§ª Test: DÃ©marrage du serveur";
    
    QSignalSpy spy(testLionManager, &LionManager::connectionStatusChanged);
    
    // DÃ©marrer en mode host
    testLionManager->startAsHost();
    
    // Attendre que le signal soit Ã©mis
    QVERIFY(spy.wait(3000));
    
    // VÃ©rifier que le mode host est activÃ©
    QVERIFY(testLionManager->isHostMode());
    
    qDebug() << "âœ… Serveur dÃ©marrÃ© correctement";
}

void TestTamaLyon::testClientConnection()
{
    qDebug() << "\nðŸ§ª Test: Connexion client";
    
    // CrÃ©er un deuxiÃ¨me LionManager pour le client
    LionManager* clientManager = new LionManager(this);
    Lion* clientLion = new Lion("ClientLion", this);
    AlimentManager* clientAlimentManager = new AlimentManager(this);
    
    clientAlimentManager->setLion(clientLion);
    clientAlimentManager->setLionManager(clientManager);
    clientManager->setAlimentManager(clientAlimentManager);
    
    // DÃ©marrer le serveur
    testLionManager->startAsHost();
    
    // Attendre un peu pour que le serveur soit prÃªt
    QThread::msleep(500);
    
    // Connecter le client
    QSignalSpy spy(clientManager, &LionManager::connectionStatusChanged);
    clientManager->joinAsClient();
    
    // Attendre la connexion
    QVERIFY(spy.wait(3000));
    
    // VÃ©rifier que le client n'est pas en mode host
    QVERIFY(!clientManager->isHostMode());
    
    qDebug() << "âœ… Client connectÃ© correctement";
    
    // Nettoyer
    clientManager->deleteLater();
    clientLion->deleteLater();
    clientAlimentManager->deleteLater();
}

void TestTamaLyon::testHostClientBasicSync()
{
    qDebug() << "\nðŸ§ª Test: Synchronisation basique Host-Client";
    
    LionManager* hostManager = nullptr;
    LionManager* clientManager = nullptr;
    
    setupHostClient(hostManager, clientManager);
    
    // Modifier l'Ã©tat sur l'hÃ´te
    Lion* hostLion = qobject_cast<Lion*>(hostManager->parent()->findChild<Lion*>());
    QVERIFY(hostLion != nullptr);
    
    hostLion->setFaim(75);
    hostLion->setSoif(25);
    hostLion->setHumeur(90);
    
    // Diffuser l'Ã©tat
    hostManager->broadcastCurrentState();
    
    // Attendre un peu pour la synchronisation
    QThread::msleep(200);
    
    // VÃ©rifier que le client a reÃ§u l'Ã©tat
    Lion* clientLion = qobject_cast<Lion*>(clientManager->parent()->findChild<Lion*>());
    QVERIFY(clientLion != nullptr);
    
    qDebug() << "ðŸ“Š Host - Faim:" << hostLion->getFaim() << "Soif:" << hostLion->getSoif() << "Humeur:" << hostLion->getHumeur();
    qDebug() << "ðŸ“Š Client - Faim:" << clientLion->getFaim() << "Soif:" << clientLion->getSoif() << "Humeur:" << clientLion->getHumeur();
    
    QCOMPARE(clientLion->getFaim(), hostLion->getFaim());
    QCOMPARE(clientLion->getSoif(), hostLion->getSoif());
    QCOMPARE(clientLion->getHumeur(), hostLion->getHumeur());
    
    qDebug() << "âœ… Synchronisation basique fonctionne";
    
    // Nettoyer
    hostManager->deleteLater();
    clientManager->deleteLater();
}

void TestTamaLyon::testClientAlimentCommand()
{
    qDebug() << "\nðŸ§ª Test: Commande d'aliment du client";
    
    LionManager* hostManager = nullptr;
    LionManager* clientManager = nullptr;
    
    setupHostClient(hostManager, clientManager);
    
    // Obtenir les lions et alimentManagers
    Lion* hostLion = qobject_cast<Lion*>(hostManager->parent()->findChild<Lion*>());
    Lion* clientLion = qobject_cast<Lion*>(clientManager->parent()->findChild<Lion*>());
    AlimentManager* clientAlimentManager = qobject_cast<AlimentManager*>(clientManager->parent()->findChild<AlimentManager*>());
    
    QVERIFY(hostLion != nullptr);
    QVERIFY(clientLion != nullptr);
    QVERIFY(clientAlimentManager != nullptr);
    
    // Ã‰tat initial
    int faimInitialeHost = hostLion->getFaim();
    int faimInitialeClient = clientLion->getFaim();
    
    qDebug() << "ðŸ“Š Ã‰tat initial - Host faim:" << faimInitialeHost << "Client faim:" << faimInitialeClient;
    
    // Le client donne un aliment (pomme = index 0)
    clientAlimentManager->nourrirLion(0);
    
    // Attendre la propagation
    QThread::msleep(500);
    
    qDebug() << "ðŸ“Š Ã‰tat final - Host faim:" << hostLion->getFaim() << "Client faim:" << clientLion->getFaim();
    
    // VÃ©rifier que l'Ã©tat a changÃ© sur l'hÃ´te ET sur le client
    QVERIFY(hostLion->getFaim() != faimInitialeHost || hostLion->getHumeur() != 50);
    QCOMPARE(clientLion->getFaim(), hostLion->getFaim());
    
    qDebug() << "âœ… Commande d'aliment du client fonctionne";
    
    // Nettoyer
    hostManager->deleteLater();
    clientManager->deleteLater();
}

void TestTamaLyon::testHostAuthorityModel()
{
    qDebug() << "\nðŸ§ª Test: ModÃ¨le d'autoritÃ© du serveur";
    
    LionManager* hostManager = nullptr;
    LionManager* clientManager = nullptr;
    
    setupHostClient(hostManager, clientManager);
    
    // Obtenir les lions
    Lion* hostLion = qobject_cast<Lion*>(hostManager->parent()->findChild<Lion*>());
    Lion* clientLion = qobject_cast<Lion*>(clientManager->parent()->findChild<Lion*>());
    
    QVERIFY(hostLion != nullptr);
    QVERIFY(clientLion != nullptr);
    
    // Synchroniser l'Ã©tat initial
    hostManager->broadcastCurrentState();
    QThread::msleep(100);
    
    // L'hÃ´te modifie directement son Ã©tat
    hostLion->setFaim(80);
    hostManager->broadcastCurrentState();
    QThread::msleep(100);
    
    // Le client essaie de modifier directement son Ã©tat (ne devrait pas persister)
    clientLion->setFaim(20);
    
    // L'hÃ´te diffuse Ã  nouveau son Ã©tat
    hostManager->broadcastCurrentState();
    QThread::msleep(100);
    
    // Le client devrait avoir l'Ã©tat de l'hÃ´te, pas son propre Ã©tat
    qDebug() << "ðŸ“Š Host faim:" << hostLion->getFaim() << "Client faim:" << clientLion->getFaim();
    QCOMPARE(clientLion->getFaim(), 80); // Ã‰tat de l'hÃ´te
    
    qDebug() << "âœ… ModÃ¨le d'autoritÃ© du serveur fonctionne";
    
    // Nettoyer
    hostManager->deleteLater();
    clientManager->deleteLater();
}

void TestTamaLyon::testMultipleClientsSync()
{
    qDebug() << "\nðŸ§ª Test: Synchronisation multi-clients";
    
    // CrÃ©er 1 hÃ´te et 2 clients
    LionManager* hostManager = new LionManager(this);
    LionManager* client1Manager = new LionManager(this);
    LionManager* client2Manager = new LionManager(this);
    
    // Configuration hÃ´te
    Lion* hostLion = new Lion("HostLion", this);
    AlimentManager* hostAlimentManager = new AlimentManager(this);
    hostAlimentManager->setLion(hostLion);
    hostAlimentManager->setLionManager(hostManager);
    hostManager->setAlimentManager(hostAlimentManager);
    
    // Configuration client 1
    Lion* client1Lion = new Lion("Client1Lion", this);
    AlimentManager* client1AlimentManager = new AlimentManager(this);
    client1AlimentManager->setLion(client1Lion);
    client1AlimentManager->setLionManager(client1Manager);
    client1Manager->setAlimentManager(client1AlimentManager);
    
    // Configuration client 2
    Lion* client2Lion = new Lion("Client2Lion", this);
    AlimentManager* client2AlimentManager = new AlimentManager(this);
    client2AlimentManager->setLion(client2Lion);
    client2AlimentManager->setLionManager(client2Manager);
    client2Manager->setAlimentManager(client2AlimentManager);
    
    // DÃ©marrer l'hÃ´te
    hostManager->startAsHost();
    QThread::msleep(200);
    
    // Connecter les clients
    client1Manager->joinAsClient();
    client2Manager->joinAsClient();
    QThread::msleep(500);
    
    // L'hÃ´te modifie son Ã©tat
    hostLion->setFaim(60);
    hostLion->setSoif(70);
    hostManager->broadcastCurrentState();
    QThread::msleep(200);
    
    // VÃ©rifier que les deux clients ont le mÃªme Ã©tat
    qDebug() << "ðŸ“Š Host - Faim:" << hostLion->getFaim() << "Soif:" << hostLion->getSoif();
    qDebug() << "ðŸ“Š Client1 - Faim:" << client1Lion->getFaim() << "Soif:" << client1Lion->getSoif();
    qDebug() << "ðŸ“Š Client2 - Faim:" << client2Lion->getFaim() << "Soif:" << client2Lion->getSoif();
    
    QCOMPARE(client1Lion->getFaim(), hostLion->getFaim());
    QCOMPARE(client1Lion->getSoif(), hostLion->getSoif());
    QCOMPARE(client2Lion->getFaim(), hostLion->getFaim());
    QCOMPARE(client2Lion->getSoif(), hostLion->getSoif());
    
    qDebug() << "âœ… Synchronisation multi-clients fonctionne";
    
    // Nettoyer
    hostManager->deleteLater();
    client1Manager->deleteLater();
    client2Manager->deleteLater();
    hostLion->deleteLater();
    client1Lion->deleteLater();
    client2Lion->deleteLater();
}

void TestTamaLyon::testFullNetworkScenario()
{
    qDebug() << "\nðŸ§ª Test: ScÃ©nario rÃ©seau complet";
    
    LionManager* hostManager = nullptr;
    LionManager* clientManager = nullptr;
    
    setupHostClient(hostManager, clientManager);
    
    // Obtenir les composants
    Lion* hostLion = qobject_cast<Lion*>(hostManager->parent()->findChild<Lion*>());
    Lion* clientLion = qobject_cast<Lion*>(clientManager->parent()->findChild<Lion*>());
    AlimentManager* clientAlimentManager = qobject_cast<AlimentManager*>(clientManager->parent()->findChild<AlimentManager*>());
    
    // ScÃ©nario: Le client donne plusieurs aliments
    qDebug() << "ðŸŽ¯ ScÃ©nario: Client donne Pomme (index 0)";
    clientAlimentManager->nourrirLion(0); // Pomme
    QThread::msleep(200);
    
    int faimApres1 = hostLion->getFaim();
    qDebug() << "ðŸ“Š AprÃ¨s pomme - Host faim:" << faimApres1 << "Client faim:" << clientLion->getFaim();
    QCOMPARE(clientLion->getFaim(), faimApres1);
    
    qDebug() << "ðŸŽ¯ ScÃ©nario: Client donne Eau (index 2)";
    clientAlimentManager->nourrirLion(2); // Eau
    QThread::msleep(200);
    
    int soifApres2 = hostLion->getSoif();
    qDebug() << "ðŸ“Š AprÃ¨s eau - Host soif:" << soifApres2 << "Client soif:" << clientLion->getSoif();
    QCOMPARE(clientLion->getSoif(), soifApres2);
    
    qDebug() << "ðŸŽ¯ ScÃ©nario: Client donne Champignon toxique (index 4)";
    clientAlimentManager->nourrirLion(4); // ChampignonToxique
    QThread::msleep(200);
    
    int empoisonnementApres3 = hostLion->getEmpoisonnement();
    qDebug() << "ðŸ“Š AprÃ¨s champignon - Host empoisonnement:" << empoisonnementApres3 << "Client empoisonnement:" << clientLion->getEmpoisonnement();
    QCOMPARE(clientLion->getEmpoisonnement(), empoisonnementApres3);
    
    // VÃ©rifier que les changements sont cohÃ©rents
    QVERIFY(faimApres1 > 50); // La pomme augmente la faim
    QVERIFY(soifApres2 > 50); // L'eau augmente la soif
    QVERIFY(empoisonnementApres3 > 0); // Le champignon empoisonne
    
    qDebug() << "âœ… ScÃ©nario rÃ©seau complet rÃ©ussi";
    
    // Nettoyer
    hostManager->deleteLater();
    clientManager->deleteLater();
}

void TestTamaLyon::testNetworkResilience()
{
    qDebug() << "\nðŸ§ª Test: RÃ©silience rÃ©seau";
    
    // Ce test vÃ©rifie que le systÃ¨me gÃ¨re bien les cas d'erreur
    LionManager* testManager = new LionManager(this);
    
    // Tenter de se connecter Ã  un serveur inexistant
    testManager->joinAsClient();
    
    // Le systÃ¨me ne devrait pas crasher
    QVERIFY(true); // Si on arrive ici, pas de crash
    
    qDebug() << "âœ… SystÃ¨me rÃ©sistant aux erreurs rÃ©seau";
    
    testManager->deleteLater();
}

// ==================== HELPERS ====================

void TestTamaLyon::waitForSignal(QObject* sender, const char* signal, int timeout)
{
    QSignalSpy spy(sender, signal);
    QVERIFY(spy.wait(timeout));
}

void TestTamaLyon::setupHostClient(LionManager*& host, LionManager*& client)
{
    // CrÃ©er l'hÃ´te
    host = new LionManager(this);
    Lion* hostLion = new Lion("HostLion", this);
    AlimentManager* hostAlimentManager = new AlimentManager(this);
    hostAlimentManager->setLion(hostLion);
    hostAlimentManager->setLionManager(host);
    host->setAlimentManager(hostAlimentManager);
    
    // CrÃ©er le client
    client = new LionManager(this);
    Lion* clientLion = new Lion("ClientLion", this);
    AlimentManager* clientAlimentManager = new AlimentManager(this);
    clientAlimentManager->setLion(clientLion);
    clientAlimentManager->setLionManager(client);
    client->setAlimentManager(clientAlimentManager);
    
    // DÃ©marrer l'hÃ´te
    host->startAsHost();
    QThread::msleep(200);
    
    // Connecter le client
    client->joinAsClient();
    QThread::msleep(300);
}

void TestTamaLyon::verifyLionState(Lion* lion, int expectedHunger, int expectedThirst, int expectedMood)
{
    QCOMPARE(lion->getFaim(), expectedHunger);
    QCOMPARE(lion->getSoif(), expectedThirst);
    QCOMPARE(lion->getHumeur(), expectedMood);
}

// Point d'entrÃ©e pour les tests
QTEST_MAIN(TestTamaLyon)
#include "TestTamaLyon.moc"
